<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE document [
  <!ENTITY project SYSTEM "project.xml">
]>
<?xml-stylesheet type="application/xslt+xml" href="../style.xsl"?>
<document url="changelog.html">

  &project;

<body>

<section name="Preface">
  <p>
  This is the Changelog for Tomcat Native 1.3.x. The Tomcat Native 1.3.x branch
  started from the 1.2.39 tag.
  </p>
</section>
<section name="Changes in 1.3.4">
  <changelog>
    <fix>
      Correct logic error that prevented the configuration of TLS 1.3 cipher
      suites. (markt)
    </fix>
  </changelog>
</section>
<section name="Changes in 1.3.3 (not released)">
  <changelog>
    <fix>
      Refactor the addition of TLS 1.3 cipher suite configuration to avoid a
      regression when running a version of Tomcat that pre-dates this change.
      (markt)
    </fix>
  </changelog>
</section>
<section name="Changes in 1.3.2 (not released)">
  <changelog>
    <update>
      Rename configure.in to modern autotools style configure.ac. (rjung)
    </update>
    <update>
      Fix incomplete updates for autotools generated files during "buildconf" execution. (rjung)
    </update>
    <update>
      Improve quoting in tcnative.m4. (rjung)
    </update>
    <update>
      Update the minimum version of autoconf for releasing to 2.68. (rjung)
    </update>
    <fix>
      Fix the autoconf warnings when creating a release. (markt)
    </fix>
    <update>
      The Windows binaries are now built with OCSP support enabled by default.
      (markt)
    </update>
    <add>
      Include a nonce with OCSP requests and check the nonce, if any, in the
      OCSP response. (markt)
    </add>
    <add>
      Expand verification of OCSP responses. (markt)
    </add>
    <add>
      Add the ability to configure the OCSP checks to soft-fail - i.e. if the
      responder cannot be contacted or fails to respond in a timely manner the
      OCSP check will not fail. (markt)
    </add>
    <add>
      Add a configurable timeout to the writing of OCSP requests and reading of
      OCSP responses. (markt)
    </add>
    <add>
      Add the ability to control the OCSP verification flags. (markt)
    </add>
    <add>
      Configure TLS 1.3 connections from the provided ciphers list as well as
      connections using TLS 1.2 and earlier. Pull request provided by gastush.
      (markt)
    </add>
    <update>
      Update the Windows build environment to use Visual Studio 2022. (markt)
    </update>
  </changelog>
</section>
<section name="Changes in 1.3.1">
  <changelog>
    <fix>
      Fix a crash on Windows when <code>SSLContext.setCACertificate()</code>
      is invoked with a <code>null</code> value for <code>caCertificateFile</code>
      and a non-<code>null</code> value for <code>caCertificatePath</code>
      until properly addressed with
      https://github.com/openssl/openssl/issues/24416. (michaelo)
    </fix>
    <add>
      Use ERR_error_string_n with a definite buffer length as a named constant.
      (schultz)
    </add>
    <add>
      Ensure local reference capacity is available when creating new arrays
      and Strings. (schultz)
    </add>
    <update>
      Update the recommended minimum version of OpenSSL to 3.0.14. (markt)
    </update>
  </changelog>
</section>
<section name="Changes in 1.3.0">
  <changelog>
    <update>
      Drop useless <code>compile.optimize</code> option. (michaelo)
    </update>
    <update>
      Align Java source compile configuration with Tomcat. (michaelo)
    </update>
    <fix>
      Fix version set in DLL header on Windows. (michaelo)
    </fix>
    <update>
      Remove an unreachable if condition around CRLs in sslcontext.c. (michaelo)
    </update>
    <fix>
      <bug>67818</bug>: When calling <code>SSL.setVerify()</code> or
      <code>SSLContext.setVerify()</code>, the default verify paths are no
      longer set. Only the explicitly configured trust store, if any, will be
      used. (michaelo)
    </fix>
    <update>
      Update the minimum supported version of LibreSSL to 3.5.2. (markt)
    </update>
    <design>
      Remove NPN support as NPN was never standardised and browser support was
      removed in 2019. (markt)
    </design>
    <update>
      Update the recommended minimum version of OpenSSL to 3.0.13. (markt)
    </update>
  </changelog>
</section>
<section name="Changes in 1.2.x">
<p>Please see the <a href="../../native-1.2-doc/miscellaneous/changelog.html">1.2.x
   changelog</a>.</p>
</section>
<section name="Changes in 1.1.x">
<p>Please see the <a href="../../native-1.1-doc/miscellaneous/changelog.html">1.1.x
   changelog</a>.</p>
</section>
</body>
</document>
